{"version":3,"names":["state","store","on","key","newState","wp","i18n","__"],"sources":["./src/store/ui.ts"],"sourcesContent":["import { createStore } from '@stencil/store';\nimport { speak } from '@wordpress/a11y';\nimport { __ } from '@wordpress/i18n';\n\nexport const store = createStore<any>(\n  () => ({\n    cart: {\n      open: false,\n    },\n  }),\n  (newValue, oldValue) => {\n    return JSON.stringify(newValue) !== JSON.stringify(oldValue);\n  },\n);\n\nconst { state } = store;\n\nexport const toggleCart = (open = null) => store.set('cart', { ...state.cart, ...{ open: open !== null ? open : !state.cart.open } });\n\nconst { on } = store;\non('set', (key, newState) => {\n  if (key !== 'cart') return; // we only care about cart.\n\n  if (newState?.open) {\n    speak(__('Cart Opened', 'surecart'), 'assertive');\n  } else {\n    speak(__('Cart Closed', 'surecart'), 'assertive');\n  }\n});\nexport default store;\n"],"mappings":"8JAeA,MAAAA,SAAAC,E,8EAIA,MAAAC,MAAAD,EACAC,EAAA,QAAAC,EAAAC,K,8DAIUC,GAAAC,KAAAC,GAAE,sC,QAEFF,GAAAC,KAAAC,GAAE,sC"}