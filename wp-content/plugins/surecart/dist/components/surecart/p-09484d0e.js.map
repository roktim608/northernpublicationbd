{"version":3,"names":["domReady","callback","document","readyState","addEventListener","introText","createElement","id","className","textContent","wp","i18n","__","setAttribute","_document","body","appendChild","addContainer","ariaLive","arguments","length","undefined","container","concat","clear","regions","getElementsByClassName","getElementById","i","previousMessage","filterMessage","message","replace","setup","containerAssertive","containerPolite","addIntroText","speak","removeAttribute"],"sources":["../../node_modules/@wordpress/dom-ready/build-module/index.js","../../node_modules/@wordpress/a11y/build-module/add-intro-text.js","../../node_modules/@wordpress/a11y/build-module/add-container.js","../../node_modules/@wordpress/a11y/build-module/clear.js","../../node_modules/@wordpress/a11y/build-module/filter-message.js","../../node_modules/@wordpress/a11y/build-module/index.js"],"sourcesContent":["/**\n * @typedef {() => void} Callback\n *\n * TODO: Remove this typedef and inline `() => void` type.\n *\n * This typedef is used so that a descriptive type is provided in our\n * automatically generated documentation.\n *\n * An in-line type `() => void` would be preferable, but the generated\n * documentation is `null` in that case.\n *\n * @see https://github.com/WordPress/gutenberg/issues/18045\n */\n\n/**\n * Specify a function to execute when the DOM is fully loaded.\n *\n * @param {Callback} callback A function to execute after the DOM is ready.\n *\n * @example\n * ```js\n * import domReady from '@wordpress/dom-ready';\n *\n * domReady( function() {\n * \t//do something after DOM loads.\n * } );\n * ```\n *\n * @return {void}\n */\nexport default function domReady(callback) {\n  if (typeof document === 'undefined') {\n    return;\n  }\n\n  if (document.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n  document.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n  ) {\n      return void callback();\n    } // DOMContentLoaded has not fired yet, delay callback until then.\n\n\n  document.addEventListener('DOMContentLoaded', callback);\n}\n//# sourceMappingURL=index.js.map","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n/**\n * Build the explanatory text to be placed before the aria live regions.\n *\n * This text is initially hidden from assistive technologies by using a `hidden`\n * HTML attribute which is then removed once a message fills the aria-live regions.\n *\n * @return {HTMLParagraphElement} The explanatory text HTML element.\n */\n\nexport default function addIntroText() {\n  var introText = document.createElement('p');\n  introText.id = 'a11y-speak-intro-text';\n  introText.className = 'a11y-speak-intro-text';\n  introText.textContent = __('Notifications');\n  introText.setAttribute('style', 'position: absolute;' + 'margin: -1px;' + 'padding: 0;' + 'height: 1px;' + 'width: 1px;' + 'overflow: hidden;' + 'clip: rect(1px, 1px, 1px, 1px);' + '-webkit-clip-path: inset(50%);' + 'clip-path: inset(50%);' + 'border: 0;' + 'word-wrap: normal !important;');\n  introText.setAttribute('hidden', 'hidden');\n  var _document = document,\n      body = _document.body;\n\n  if (body) {\n    body.appendChild(introText);\n  }\n\n  return introText;\n}\n//# sourceMappingURL=add-intro-text.js.map","/**\n * Build the live regions markup.\n *\n * @param {string} [ariaLive] Value for the 'aria-live' attribute; default: 'polite'.\n *\n * @return {HTMLDivElement} The ARIA live region HTML element.\n */\nexport default function addContainer() {\n  var ariaLive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'polite';\n  var container = document.createElement('div');\n  container.id = \"a11y-speak-\".concat(ariaLive);\n  container.className = 'a11y-speak-region';\n  container.setAttribute('style', 'position: absolute;' + 'margin: -1px;' + 'padding: 0;' + 'height: 1px;' + 'width: 1px;' + 'overflow: hidden;' + 'clip: rect(1px, 1px, 1px, 1px);' + '-webkit-clip-path: inset(50%);' + 'clip-path: inset(50%);' + 'border: 0;' + 'word-wrap: normal !important;');\n  container.setAttribute('aria-live', ariaLive);\n  container.setAttribute('aria-relevant', 'additions text');\n  container.setAttribute('aria-atomic', 'true');\n  var _document = document,\n      body = _document.body;\n\n  if (body) {\n    body.appendChild(container);\n  }\n\n  return container;\n}\n//# sourceMappingURL=add-container.js.map","/**\n * Clears the a11y-speak-region elements and hides the explanatory text.\n */\nexport default function clear() {\n  var regions = document.getElementsByClassName('a11y-speak-region');\n  var introText = document.getElementById('a11y-speak-intro-text');\n\n  for (var i = 0; i < regions.length; i++) {\n    regions[i].textContent = '';\n  } // Make sure the explanatory text is hidden from assistive technologies.\n\n\n  if (introText) {\n    introText.setAttribute('hidden', 'hidden');\n  }\n}\n//# sourceMappingURL=clear.js.map","var previousMessage = '';\n/**\n * Filter the message to be announced to the screenreader.\n *\n * @param {string} message The message to be announced.\n *\n * @return {string} The filtered message.\n */\n\nexport default function filterMessage(message) {\n  /*\n   * Strip HTML tags (if any) from the message string. Ideally, messages should\n   * be simple strings, carefully crafted for specific use with A11ySpeak.\n   * When re-using already existing strings this will ensure simple HTML to be\n   * stripped out and replaced with a space. Browsers will collapse multiple\n   * spaces natively.\n   */\n  message = message.replace(/<[^<>]+>/g, ' ');\n  /*\n   * Safari + VoiceOver don't announce repeated, identical strings. We use\n   * a `no-break space` to force them to think identical strings are different.\n   */\n\n  if (previousMessage === message) {\n    message += \"\\xA0\";\n  }\n\n  previousMessage = message;\n  return message;\n}\n//# sourceMappingURL=filter-message.js.map","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n/**\n * Internal dependencies\n */\n\nimport addIntroText from './add-intro-text';\nimport addContainer from './add-container';\nimport clear from './clear';\nimport filterMessage from './filter-message';\n/**\n * Create the live regions.\n */\n\nexport function setup() {\n  var introText = document.getElementById('a11y-speak-intro-text');\n  var containerAssertive = document.getElementById('a11y-speak-assertive');\n  var containerPolite = document.getElementById('a11y-speak-polite');\n\n  if (introText === null) {\n    addIntroText();\n  }\n\n  if (containerAssertive === null) {\n    addContainer('assertive');\n  }\n\n  if (containerPolite === null) {\n    addContainer('polite');\n  }\n}\n/**\n * Run setup on domReady.\n */\n\ndomReady(setup);\n/**\n * Allows you to easily announce dynamic interface updates to screen readers using ARIA live regions.\n * This module is inspired by the `speak` function in `wp-a11y.js`.\n *\n * @param {string} message  The message to be announced by assistive technologies.\n * @param {string} [ariaLive] The politeness level for aria-live; default: 'polite'.\n *\n * @example\n * ```js\n * import { speak } from '@wordpress/a11y';\n *\n * // For polite messages that shouldn't interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region' );\n *\n * // For assertive messages that should interrupt what screen readers are currently announcing.\n * speak( 'The message you want to send to the ARIA live region', 'assertive' );\n * ```\n */\n\nexport function speak(message, ariaLive) {\n  /*\n   * Clear previous messages to allow repeated strings being read out and hide\n   * the explanatory text from assistive technologies.\n   */\n  clear();\n  message = filterMessage(message);\n  var introText = document.getElementById('a11y-speak-intro-text');\n  var containerAssertive = document.getElementById('a11y-speak-assertive');\n  var containerPolite = document.getElementById('a11y-speak-polite');\n\n  if (containerAssertive && ariaLive === 'assertive') {\n    containerAssertive.textContent = message;\n  } else if (containerPolite) {\n    containerPolite.textContent = message;\n  }\n  /*\n   * Make the explanatory text available to assistive technologies by removing\n   * the 'hidden' HTML attribute.\n   */\n\n\n  if (introText) {\n    introText.removeAttribute('hidden');\n  }\n}\n//# sourceMappingURL=index.js.map"],"mappings":"AA8Be,SAASA,EAASC,GAC/B,UAAWC,WAAa,YAAa,CACnC,MACJ,CAEE,GAAIA,SAASC,aAAe,YAC5BD,SAASC,aAAe,cACtB,CACE,YAAYF,GAClB,CAGEC,SAASE,iBAAiB,mBAAoBH,EAChD,C,aC7BA,IAAAI,EAAAH,SAAAI,cAAA,KACAD,EAAAE,GAAA,wBACAF,EAAAG,UAAA,wBACAH,EAAAI,YAA0BC,GAAAC,KAAAC,GAAE,iBAC5BP,EAAAQ,aAAA,uPACAR,EAAAQ,aAAA,mBACA,IAAAC,EAAAZ,SACAa,EAAAD,EAAAC,KAEA,GAAAA,EAAA,CACAA,EAAAC,YAAAX,EACA,CAEA,OAAAA,CACA,CCrBe,SAASY,IACtB,IAAIC,EAAWC,UAAUC,OAAS,GAAKD,UAAU,KAAOE,UAAYF,UAAU,GAAK,SACnF,IAAIG,EAAYpB,SAASI,cAAc,OACvCgB,EAAUf,GAAK,cAAcgB,OAAOL,GACpCI,EAAUd,UAAY,oBACtBc,EAAUT,aAAa,QAAS,sBAAwB,gBAAkB,cAAgB,eAAiB,cAAgB,oBAAsB,kCAAoC,iCAAmC,yBAA2B,aAAe,iCAClQS,EAAUT,aAAa,YAAaK,GACpCI,EAAUT,aAAa,gBAAiB,kBACxCS,EAAUT,aAAa,cAAe,QACtC,IAAIC,EAAYZ,SACZa,EAAOD,EAAUC,KAErB,GAAIA,EAAM,CACRA,EAAKC,YAAYM,EACrB,CAEE,OAAOA,CACT,CCrBe,SAASE,IACtB,IAAIC,EAAUvB,SAASwB,uBAAuB,qBAC9C,IAAIrB,EAAYH,SAASyB,eAAe,yBAExC,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAQL,OAAQQ,IAAK,CACvCH,EAAQG,GAAGnB,YAAc,EAC7B,CAGE,GAAIJ,EAAW,CACbA,EAAUQ,aAAa,SAAU,SACrC,CACA,CCfA,IAAIgB,EAAkB,GASP,SAASC,EAAcC,GAQpCA,EAAUA,EAAQC,QAAQ,YAAa,KAMvC,GAAIH,IAAoBE,EAAS,CAC/BA,GAAW,GACf,CAEEF,EAAkBE,EAClB,OAAOA,CACT,CCbO,SAASE,IACd,IAAI5B,EAAYH,SAASyB,eAAe,yBACxC,IAAIO,EAAqBhC,SAASyB,eAAe,wBACjD,IAAIQ,EAAkBjC,SAASyB,eAAe,qBAE9C,GAAItB,IAAc,KAAM,CACtB+B,GACJ,CAEE,GAAIF,IAAuB,KAAM,CAC/BjB,EAAa,YACjB,CAEE,GAAIkB,IAAoB,KAAM,CAC5BlB,EAAa,SACjB,CACA,CAKAjB,EAASiC,GAoBF,SAASI,EAAMN,EAASb,GAK7BM,IACAO,EAAUD,EAAcC,GACxB,IAAI1B,EAAYH,SAASyB,eAAe,yBACxC,IAAIO,EAAqBhC,SAASyB,eAAe,wBACjD,IAAIQ,EAAkBjC,SAASyB,eAAe,qBAE9C,GAAIO,GAAsBhB,IAAa,YAAa,CAClDgB,EAAmBzB,YAAcsB,CACrC,MAAS,GAAII,EAAiB,CAC1BA,EAAgB1B,YAAcsB,CAClC,CAOE,GAAI1B,EAAW,CACbA,EAAUiC,gBAAgB,SAC9B,CACA,Q"}