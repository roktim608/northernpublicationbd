import{r as i,h as e,F as r,H as l}from"./p-cc7ce8c7.js";import{s}from"./p-b02aad55.js";import{i as a}from"./p-b395feb7.js";import"./p-25433d0f.js";import"./p-0d9e43bc.js";import"./p-7ef0f71c.js";import"./p-f70181c4.js";import"./p-c06b2e12.js";import"./p-09484d0e.js";const t=":host{display:block}.price{display:flex;flex-direction:column;gap:var(--sc-spacing-xxx-small);text-align:var(--sc-product-price-alignment, left);justify-content:var(--sc-product-price-alignment, left)}.price__amounts{display:inline-flex;flex-wrap:wrap;align-items:baseline;gap:var(--sc-spacing-xx-small);justify-content:var(--sc-product-price-alignment, left);text-align:var(--sc-product-price-alignment, left)}.price__scratch{text-decoration:line-through;opacity:0.75}.price__interval{font-size:min(var(--sc-font-size-small), 16px);opacity:0.75}.price__details{font-size:min(var(--sc-font-size-small), 16px);opacity:0.75}.price__sale-badge{font-size:min(1em, 14px);align-self:center}";const n=class{constructor(e){i(this,e);this.prices=undefined;this.saleText=undefined;this.productId=undefined}renderRange(){var i,r,l,a;if(((r=(i=s[this.productId])===null||i===void 0?void 0:i.prices)===null||r===void 0?void 0:r.length)===1){return this.renderPrice((l=s[this.productId])===null||l===void 0?void 0:l.prices[0])}return e("sc-price-range",{prices:(a=s[this.productId])===null||a===void 0?void 0:a.prices})}renderVariantPrice(i){var e,r;const l=(r=(e=s[this.productId])===null||e===void 0?void 0:e.variants)===null||r===void 0?void 0:r.find((e=>(e===null||e===void 0?void 0:e.id)===(i===null||i===void 0?void 0:i.id)));return this.renderPrice(s[this.productId].selectedPrice,l===null||l===void 0?void 0:l.amount)}renderPrice(i,l){var s;const t=(s=l!==null&&l!==void 0?l:i===null||i===void 0?void 0:i.amount)!==null&&s!==void 0?s:0;if(i===null||i===void 0?void 0:i.ad_hoc){return wp.i18n.__("Custom Amount","surecart")}return e(r,null,e("div",{class:"price",id:"price"},e("div",{class:"price__amounts"},!!(i===null||i===void 0?void 0:i.scratch_amount)&&(i===null||i===void 0?void 0:i.scratch_amount)!==t&&e(r,null,(i===null||i===void 0?void 0:i.scratch_amount)===0?wp.i18n.__("Free","surecart"):e(r,null,e("sc-visually-hidden",null,wp.i18n.__("The price was","surecart")," "),e("sc-format-number",{class:"price__scratch",part:"price__scratch",type:"currency",currency:i.currency,value:i===null||i===void 0?void 0:i.scratch_amount}),e("sc-visually-hidden",null," ",wp.i18n.__("now discounted to","surecart")))),t===0?wp.i18n.__("Free","surecart"):e("sc-format-number",{class:"price__amount",type:"currency",value:t,currency:i===null||i===void 0?void 0:i.currency}),e("div",{class:"price__interval"},(i===null||i===void 0?void 0:i.recurring_period_count)&&1<(i===null||i===void 0?void 0:i.recurring_period_count)&&e("sc-visually-hidden",null," ",wp.i18n.__("This is a repeating price. Payment will happen","surecart")," ",a(i,{showOnce:true,abbreviate:false,labels:{interval:wp.i18n.__("every","surecart"),period:wp.i18n.__("for","surecart")}})),e("span",{"aria-hidden":"true"},a(i,{showOnce:true,abbreviate:false,labels:{interval:"/",period:wp.i18n.__("for","surecart")}}))),!!(i===null||i===void 0?void 0:i.scratch_amount)&&e("sc-tag",{type:"primary",pill:true,class:"price__sale-badge"},this.saleText||e(r,null,e("sc-visually-hidden",null,wp.i18n.__("This product is available for sale.","surecart")," "),e("span",{"aria-hidden":"true"},wp.i18n.__("Sale","surecart"))))),(!!(i===null||i===void 0?void 0:i.trial_duration_days)||!!(i===null||i===void 0?void 0:i.setup_fee_enabled)&&(i===null||i===void 0?void 0:i.setup_fee_amount))&&e("div",{class:"price__details"},!!(i===null||i===void 0?void 0:i.trial_duration_days)&&e(r,null,e("sc-visually-hidden",null,wp.i18n.sprintf(wp.i18n.__("You have a %d-day trial before payment becomes necessary.","surecart"),i.trial_duration_days)),e("span",{class:"price__trial","aria-hidden":"true"},wp.i18n.sprintf(wp.i18n._n("Starting in %s day.","Starting in %s days.",i.trial_duration_days,"surecart"),i.trial_duration_days))),!!(i===null||i===void 0?void 0:i.setup_fee_enabled)&&(i===null||i===void 0?void 0:i.setup_fee_amount)&&e("span",{class:"price__setup-fee"},e("sc-visually-hidden",null,wp.i18n.__("This product has","surecart")," "),e("sc-format-number",{type:"currency",value:Math.abs(i.setup_fee_amount),currency:i===null||i===void 0?void 0:i.currency})," ",(i===null||i===void 0?void 0:i.setup_fee_name)||((i===null||i===void 0?void 0:i.setup_fee_amount)<0?wp.i18n.__("Discount","surecart"):wp.i18n.__("Setup Fee","surecart")),"."))))}render(){return e(l,{role:"paragraph"},(()=>{var i,r;if((i=s[this.productId])===null||i===void 0?void 0:i.selectedVariant){return this.renderVariantPrice((r=s[this.productId])===null||r===void 0?void 0:r.selectedVariant)}if(s[this.productId].selectedPrice){return this.renderPrice(s[this.productId].selectedPrice)}if(s[this.productId].prices.length){return this.renderRange()}return e("slot",null)})())}};n.style=t;export{n as sc_product_price};
//# sourceMappingURL=p-c0ee1873.entry.js.map