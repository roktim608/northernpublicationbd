describe("Signin",(()=>{it("Check email error",(()=>{cy.intercept({method:"POST",path:"**/surecart/v1/check_email*"},{statusCode:404,body:{message:"Error",additional_errors:[{message:"This is an additional error."}]}}).as("checkEmailError"),cy.visit("/test/sc-login-form"),cy.get("sc-form-control").find("input").type("alamgirh@bsf.io",{force:!0}),cy.get("sc-button").shadow().find(".button").should("not.have.class","button--loading").click({force:!0,waitForAnimations:!0,multiple:!0}),cy.wait("@checkEmailError"),cy.get("sc-login-form").contains("Error"),cy.get("sc-login-form").contains("This is an additional error.")})),it("Successful flow",(()=>{cy.intercept({method:"POST",path:"**/surecart/v1/check_email*"},{check_email:!0}).as("checkEmailSuccess"),cy.visit("/test/sc-login-form"),cy.get("sc-login-form").contains("Test"),cy.get("sc-form-control").find("input").type("alamgirh@bsf.io",{force:!0}),cy.get("sc-button").shadow().find(".button").should("not.have.class","button--loading").click({force:!0,waitForAnimations:!0,multiple:!0}),cy.wait("@checkEmailSuccess"),cy.get("sc-login-form").contains("Enter your password"),cy.intercept({method:"POST",path:"**/surecart/v1/verification_codes*"},{id:"5f3adc72-260d-4c31-a08c-e778ea5fca97",object:"verification_code",email:"test-1@example.com",verified:!0}).as("sendVerificationCode"),cy.get("sc-button.login-code").shadow().find(".button").should("not.have.class","button--loading").first().click({force:!0,waitForAnimations:!0,multiple:!0}),cy.wait("@sendVerificationCode"),cy.get("sc-login-form").contains("Check your email"),cy.intercept({method:"POST",path:"**/surecart/v1/verification_codes/verify*"},{id:"5f3adc72-260d-4c31-a08c-e778ea5fca97",object:"verification_code",email:"test-1@example.com",verified:!0}).as("verify"),cy.get("sc-form-control").find("input").type("123456",{force:!0}),cy.wait("@verify"),cy.get("sc-login-form").contains("Test")}))}));