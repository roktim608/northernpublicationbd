import{__,_n,sprintf}from"@wordpress/i18n";import{zeroDecimalCurrencies}from"./currency";export const convertAmount=(r,e)=>zeroDecimalCurrencies.includes(e)?r:r/100;export const getHumanDiscount=r=>(null==r?void 0:r.amount_off)&&(null==r?void 0:r.currency)?getFormattedPrice({amount:r.amount_off,currency:r.currency}):(null==r?void 0:r.percent_off)?sprintf(__("%1d%% off","surecart"),0|r.percent_off):"";export const getFormattedDiscount=r=>(null==r?void 0:r.percent_off)?(0|r.percent_off)+"%":(null==r?void 0:r.amount_off)&&(null==r?void 0:r.currency)?getFormattedPrice({amount:r.amount_off,currency:r.currency}):"";export const getFormattedPrice=({amount:r,currency:e})=>{const n=convertAmount(r,e);return`${new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(parseFloat(n.toFixed(2)))}`};export const getCurrencySymbol=(r="usd")=>{var e;return null===(e=new Intl.NumberFormat(void 0,{style:"currency",currency:r}).formatToParts().find((r=>"currency"===r.type)))||void 0===e?void 0:e.value};export const translateInterval=(r,e,n=__("every","surecart"),t=__("once","surecart"),o=!1)=>{switch(e){case"day":return`${n} ${sprintf(_n(o?"%d day":"day","%d days",r,"surecart"),r)}`;case"week":return`${n} ${sprintf(_n(o?"%d week":"week","%d weeks",r,"surecart"),r)}`;case"month":return`${n} ${sprintf(_n(o?"%d month":"month","%d months",r,"surecart"),r)}`;case"year":return`${n} ${sprintf(_n(o?"%d year":"year","%d years",r,"surecart"),r)}`;default:return t}};export const translateAbbreviatedInterval=(r,e,n=__("once","surecart"),t=!1)=>{switch(e){case"day":return` / ${sprintf(_n(t?"%d day":"day","%d days",r,"surecart"),r)}`;case"week":return` / ${sprintf(_n(t?"%d wk":"wk","%d wks",r,"surecart"),r)}`;case"month":return` / ${sprintf(t?_n("%d mo","%d months",r,"surecart"):_n("mo","%d mos",r,"surecart"),r)}`;case"year":return` / ${sprintf(_n(t?"%d yr":"yr","%d yrs",r,"surecart"),r)}`;default:return n}};export const intervalString=(r,e={})=>{if(!r)return"";const{showOnce:n,labels:t,abbreviate:o}=e,{interval:c=__("every","surecart")}=t||{};return`${intervalCountString(r,c,n?__("once","surecart"):"",o)} ${periodCountString(r,o)}`};export const intervalCountString=(r,e,n=__("once","surecart"),t=!1)=>r.recurring_interval_count&&r.recurring_interval&&1!==(null==r?void 0:r.recurring_period_count)?t?translateAbbreviatedInterval(r.recurring_interval_count,r.recurring_interval,n):translateInterval(r.recurring_interval_count,r.recurring_interval,` ${e}`,n):"";export const periodCountString=(r,e=!1)=>(null==r?void 0:r.recurring_period_count)&&1!==(null==r?void 0:r.recurring_period_count)?e?`x ${r.recurring_period_count}`:` (${sprintf(_n("%d payment","%d payments",r.recurring_period_count,"surecart"),r.recurring_period_count)})`:"";export const translateRemainingPayments=r=>sprintf(_n("%d payment remaining","%d payments remaining",r,"surecart"),r);export const productNameWithPrice=r=>{var e;return r?`${null===(e=null==r?void 0:r.product)||void 0===e?void 0:e.name} ${(null==r?void 0:r.name)?`â€” ${r.name}`:""}`:""};